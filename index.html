<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GuaranteedCommission.com</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- Firebase Init -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB2ajOd_C8rfjOogqnGo-bZrD8kvjQ8XT4",
      authDomain: "guaranteedcommission-d4d91.firebaseapp.com",
      projectId: "guaranteedcommission-d4d91",
      storageBucket: "guaranteedcommission-d4d91.appspot.com",
      messagingSenderId: "900066461936",
      appId: "1:900066461936:web:80b909f6c62acaf84b9a35"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>

  <!-- Header -->
  <header class="text-center py-4 bg-white shadow">
    <div class="flex justify-between items-center max-w-7xl mx-auto px-4">
      <div class="text-left">
        <button onclick="openInvestorModal()" class="bg-red-600 text-white text-xs font-semibold px-3 py-1 rounded">
          Accredited Investors Only
        </button>
      </div>
      <div class="flex-1 text-center">
        <h1 class="text-3xl font-bold">GuaranteedCommission.com</h1>
        <p class="text-sm text-red-600 mt-1">
          Commission communication in a place that matters because - if the buyer’s agent’s commission is communicated clearly prior to the showing - the home will sell quicker at a higher price.
        </p>
      </div>
      <div class="w-24"></div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="bg-gray-200 py-2">
    <ul class="flex justify-center space-x-8 font-semibold">
      <li class="relative group">
        <a href="#" class="hover:underline">Communicate Guaranteed Commission</a>
        <ul class="absolute left-0 mt-2 w-64 bg-white border shadow hidden group-hover:block text-sm text-gray-700">
          <li><a href="#" onclick="showForm('listed')" class="block px-4 py-2 hover:bg-gray-100">Listed Property Basic</a></li>
          <li><a href="#" onclick="showForm('plus')" class="block px-4 py-2 hover:bg-gray-100">Listed Property Plus</a></li>
          <li><a href="#" onclick="showForm('fsbo')" class="block px-4 py-2 hover:bg-gray-100">FSBO Plus</a></li>
        </ul>
      </li>
      <li><a href="#strip2Search" class="hover:underline">Search Guaranteed Commission</a></li>
      <li><a href="/login.html" class="hover:underline">Log In</a></li>
    </ul>
  </nav>

  <!-- Strip 1 -->
  <section class="flex flex-col md:flex-row justify-center items-start gap-6 px-4 py-8 max-w-7xl mx-auto">
    <!-- Block 1 -->
    <div class="w-full md:w-1/3 bg-white p-4 rounded shadow text-sm">
      <h2 class="text-lg font-bold mb-4 text-center">Commission Communication Menu</h2>
      <ul class="space-y-3">
        <li><a href="#" onclick="showForm('listed')" class="block"><p class="text-base font-semibold">Listed Property Basic | <span class="text-red-600">FREE</span></p></a></li>
        <li><a href="#" onclick="showForm('plus')" class="block"><p class="text-base font-semibold">Listed Property Plus | $20</p></a></li>
        <li><a href="#" onclick="showForm('fsbo')" class="block"><p class="text-base font-semibold">FSBO Plus | $100</p></a></li>
      </ul>
    </div>

    <!-- Block 2 -->
    <div id="formBlock" class="w-full md:w-1/3 bg-white p-4 rounded shadow text-sm">
      <h2 class="text-lg font-bold mb-4 text-center">Listed Property Communication Form</h2>
      <form id="listingForm" class="space-y-2">
        <input type="text" id="name" placeholder="Name" class="w-full border p-1 rounded">
        <input type="text" id="address" placeholder="Property Address" class="w-full border p-1 rounded">
        <input type="text" id="apn" placeholder="Parcel / PIN / Tax ID / Folio / APN #" class="w-full border p-1 rounded">
        <div class="flex gap-2">
          <input type="text" id="commission" placeholder="Commission" class="w-full border p-1 rounded">
          <select id="commissionType" class="border p-1 rounded">
            <option value="%">%</option>
            <option value="$">$</option>
          </select>
        </div>
        <input type="tel" id="agentPhone" placeholder="Agent’s direct phone only – NOT your number" class="w-full border p-1 rounded">
        <input type="text" id="brokerage" placeholder="Listing Brokerage" class="w-full border p-1 rounded">
        <input type="text" id="agent" placeholder="Listing Agent" class="w-full border p-1 rounded">
      </form>
    </div>

    <!-- Block 3 -->
    <div class="w-full md:w-1/3 bg-white p-4 rounded shadow text-sm text-justify">
      <h2 class="text-lg font-bold mb-2 text-center">Irrevocable Seller Communication</h2>
      <p><strong>To the escrow holder/closing agent,</strong></p>
      <p>
        I, <span id="letterName" class="text-blue-700 opacity-80">[name]</span> am the owner/seller of 
        <span id="letterAddress" class="text-blue-700 opacity-80">[property address]</span>, 
        #<span id="letterAPN" class="text-blue-700 opacity-80">[ID#]</span>.
        <span id="letterAddressShort" class="text-blue-700 opacity-80">[short address]</span> is listed for sale by 
        <span id="letterBrokerage" class="text-blue-700 opacity-80">[listing brokerage]</span>, 
        <span id="letterAgent" class="text-blue-700 opacity-80">[listing agent]</span>, listing agent, 
        <span id="letterAgentPhone" class="text-blue-700 opacity-80">[agent phone]</span>.
      </p>
      <p>
        Let it be known: if a buyer’s agent/broker facilitates the sale of 
        <span id="letterAddress3" class="text-blue-700 opacity-80">[property address]</span>, you (the escrow holder/closing agent) are irrevocably instructed to credit/compensate the buyer’s broker – first, by debiting the listing brokerage (if applicable) and second by debiting me, the seller – a commission not to exceed 
        <span id="letterCommission" class="text-blue-700 opacity-80">[commission]</span><span id="letterCommissionType" class="text-blue-700 opacity-80">[%]</span>.
      </p>
      <p class="mt-2"><span class="pl-5 font-cursive">Electronic Signature</span> &nbsp;&nbsp; date</p>
    </div>
  </section>

  <!-- Accredited Investors Modal -->
  <div id="investorModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center">
    <div class="bg-white p-6 rounded shadow-lg max-w-md w-full">
      <h2 class="text-lg font-bold mb-4">Accredited Investors Only</h2>
      <form id="investorForm" class="space-y-3">
        <label><input type="checkbox" required> I certify I am an Accredited Investor</label>
        <input type="text" id="investorName" placeholder="Full Name" class="w-full border p-2 rounded" required>
        <input type="tel" id="investorPhone" placeholder="Phone Number" class="w-full border p-2 rounded" required>
        <input type="email" id="investorEmail" placeholder="Email Address" class="w-full border p-2 rounded" required>
        <button type="submit" class="w-full bg-red-600 text-white py-2 rounded">Submit</button>
      </form>
      <p id="investorMessage" class="text-green-600 mt-2 hidden">Thank you! We will be in touch soon.</p>
      <button onclick="closeInvestorModal()" class="mt-4 w-full bg-gray-300 py-2 rounded">Close</button>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    function openInvestorModal() {
      document.getElementById('investorModal').classList.remove('hidden');
      document.getElementById('investorModal').classList.add('flex');
    }
    function closeInvestorModal() {
      document.getElementById('investorModal').classList.add('hidden');
    }

    document.getElementById('investorForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const name = document.getElementById('investorName').value;
      const phone = document.getElementById('investorPhone').value;
      const email = document.getElementById('investorEmail').value;
      try {
        await db.collection('investorLeads').add({ name, phone, email, createdAt: new Date() });
        document.getElementById('investorMessage').classList.remove('hidden');
      } catch (error) {
        alert('Error saving investor lead: ' + error.message);
      }
    });
  </script>

  <style>
    .font-cursive {
      font-family: 'Brush Script MT', cursive;
    }
  </style>

</body>
</html>
